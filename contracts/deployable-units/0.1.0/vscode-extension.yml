# Deployable Unit Contract: vscode-extension
# Version: 0.1.0

moniker: "vscode-extension"
name: "Claude MCP VSCode Extension"
type: "vscode-extension"
description: "VSCode extension providing Git toolbar and MCP integration UI"

versioning:
  current_version: "0.1.0"
  strategy: "package.json + git-tag"
  tag_format: "vscode-ext/v{version}"
  semver_scheme: "MAJOR.MINOR.PATCH"
  version_file: ".vscode/extensions/claude-mcp-vscode/package.json"
  changelog_path: ".vscode/extensions/claude-mcp-vscode/CHANGELOG.md"

source:
  root: ".vscode/extensions/claude-mcp-vscode/"

build:
  language: "typescript"
  runtime_version: "Node.js 18+"
  build_command: "npm run compile"
  test_command: "npm test"
  lint_command: "npm run lint"
  package_command: "vsce package"
  artifact_output: "*.vsix"
  build_dependencies:
    - "node"
    - "npm"
    - "@vscode/vsce"

deployment:
  deployment_type: "vscode-extension"
  installation_method: "vsix-file"
  marketplace_publisher: null  # Not yet published
  activation_events:
    - "onStartupFinished"
  runtime_dependencies:
    - "vscode ^1.80.0"
  configuration_files:
    - "package.json"
    - ".mcp.json"
  environment_variables:
    optional:
      - "MCP_SERVER_TIMEOUT"
      - "DEBUG_MCP"

commits:
  prefix: "vscode-ext"
  version_affecting_types:
    - "feat"
    - "fix"
    - "perf"
    - "feat!"
    - "fix!"

dependencies:
  depends_on:
    - "mcp-pwsh"
    - "mcp-docs"
    - "mcp-github"
    - "mcp-vscode"
  used_by: []  # End-user facing

lifecycle:
  start_command: null  # Managed by VSCode
  stop_command: null  # Managed by VSCode
  health_check: null
  graceful_shutdown: true

integration:
  protocol: "VSCode Extension API"
  protocol_version: "1.80+"
  activation: "onStartupFinished"
  contributes:
    - "commands"
    - "menus (scm/title)"
    - "configuration"
  mcp_clients:
    - "mcp-pwsh"
    - "mcp-docs"
    - "mcp-github"
    - "mcp-vscode"

metadata:
  documentation_path: ".vscode/extensions/claude-mcp-vscode/README.md"
  api_documentation: "https://code.visualstudio.com/api"
  support_contact: null
  marketplace_url: null
