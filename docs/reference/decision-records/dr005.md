# DR-005: Adopt Diataxis Framework for Documentation Organization

## Status

- [x] Accepted
- [ ] Proposed
- [ ] Rejected
- [ ] Deprecated
- [ ] Superseded

**Date**: 2025-11-03

---

## Context

The Simply CLI platform has diverse documentation needs:

1. **Learning materials** - Help new users get started quickly
2. **Task instructions** - Help users accomplish specific goals
3. **Conceptual explanations** - Help users understand architecture and design
4. **Technical reference** - Help users look up specific details

Traditional documentation approaches:

- **Flat structure** - All docs in one folder, hard to navigate
- **By component** - Docs organized by module, duplicates common patterns
- **README-heavy** - Everything in README files, becomes overwhelming

Users have different needs based on their situation:

- **Getting started** - "I want to learn how this works"
- **Solving a problem** - "I need to accomplish X"
- **Understanding** - "Why was it built this way?"
- **Looking up details** - "What's the syntax for Y?"

**Problem Statement**: How should we organize documentation to serve different user needs while maintaining consistency and discoverability?

---

## Decision

We will adopt the **Diataxis framework** for organizing all documentation into four categories:

### 1. Tutorials (Learning-Oriented)

**Location**: `docs/tutorials/`
**Purpose**: Take users through a series of steps to learn by doing
**Characteristics**:

- Step-by-step instructions
- Focused on learning, not production use
- Gets users up and running quickly
- Assumes little prior knowledge

**Example**: `vscode-extension-quickstart.md` - Get extension running in 5 minutes

### 2. How-To Guides (Problem-Oriented)

**Location**: `docs/how-to-guides/`
**Purpose**: Guide users through solving specific problems
**Characteristics**:

- Focused on a single task
- Assumes basic familiarity
- Provides practical, actionable steps
- Shows one way to accomplish the goal

**Examples**:

- `add-action.md` - Add a new action to robot button
- `troubleshoot.md` - Fix common problems

### 3. Explanation (Understanding-Oriented)

**Location**: `docs/explanation/`
**Purpose**: Clarify and illuminate topics
**Characteristics**:

- Discusses concepts and ideas
- Provides context and background
- Explains design decisions
- Deepens understanding

**Examples**:

- `vscode-extension-architecture.md` - How MCP integration works
- `continuous-delivery/index.md` - Mono-repository approach

### 4. Reference (Information-Oriented)

**Location**: `docs/reference/`
**Purpose**: Provide technical descriptions
**Characteristics**:

- Technical and precise
- Organized for quick lookup
- Comprehensive coverage
- Consistent structure

**Examples**:

- `vscode-extension.md` - Commands, APIs, configuration
- `testing/specifications/` - Testing framework reference
- `decision-records/` - Architectural decisions

### Structure

```text
docs/
├── tutorials/                # Learning-oriented
│   ├── index.md
│   └── vscode-extension-quickstart.md
├── how-to-guides/           # Task-oriented
│   ├── index.md
│   └── vscode-extension/
│       ├── index.md
│       ├── add-action.md
│       └── troubleshoot.md
├── explanation/             # Understanding-oriented
│   ├── index.md
│   ├── vscode-extension-architecture.md
│   └── continuous-delivery/
├── reference/               # Information-oriented
│   ├── index.md
│   ├── vscode-extension.md
│   ├── testing/
│   └── decision-records/
└── templates/              # Not part of Diataxis
```

---

## Consequences

### Positive

**1. Clear User Intent Mapping**:

- Users know where to look based on their need
- Tutorials for learning, how-to for tasks, etc.
- Reduces time to find relevant documentation

**2. Avoids Content Duplication**:

- Each piece of information has one natural home
- Reference doesn't repeat tutorial steps
- How-to guides don't re-explain concepts

**3. Better Content Quality**:

- Each category has specific characteristics
- Writers know what tone/style to use
- Easier to review for consistency

**4. Improved Discoverability**:

- Predictable structure across all modules
- Index pages guide users to content
- Cross-references connect related topics

**5. Scalability**:

- Easy to add new documentation
- Clear where each piece belongs
- Structure prevents documentation sprawl

**6. Industry Standard**:

- Well-established framework
- Many successful projects use it
- Good onboarding for new contributors

### Negative

**1. Learning Curve for Contributors**:

- Must understand four categories
- Requires thinking about user intent
- May need to split content across categories

**2. Potential Over-Categorization**:

- Some content fits multiple categories
- Need judgment calls on placement
- Risk of being too rigid

**3. Migration Effort**:

- Existing docs must be reorganized
- Links must be updated
- May break external references

**4. More Navigation Required**:

- Users must navigate category structure
- Can't dump everything in README
- Requires good index pages

**5. Duplication of Examples**:

- Same example may appear in tutorial and reference
- Must maintain consistency across categories
- More work to keep in sync

---

## Alternatives Considered

### Alternative 1: Flat Documentation Structure

**Description**: All docs in `docs/` directory with descriptive filenames.

**Pros**:

- Simple structure
- Easy to add files
- No categorization decisions

**Cons**:

- Hard to navigate with many files
- No guidance on where to start
- Mixing learning and reference materials
- Scales poorly

**Why Not Chosen**: Becomes unwieldy with more than 10-15 documentation files.

### Alternative 2: Component-Based Documentation

**Description**: Organize docs by component/module (cli/, vscode/, mcp/, etc.).

**Pros**:

- Clear ownership
- Component-specific details together
- Mirrors code structure

**Cons**:

- Duplicates common patterns across components
- Hard to find cross-cutting topics
- No guidance on learning path
- Mixes tutorials with reference

**Why Not Chosen**: Doesn't help users with different intents (learning vs. looking up info).

### Alternative 3: README-Heavy Documentation

**Description**: Put most documentation in README files throughout the codebase.

**Pros**:

- Docs live with code
- Easy for developers to update
- Visible in repository browsers

**Cons**:

- READMEs become very long
- Hard to maintain consistency
- Not good for tutorials or how-tos
- Poor cross-referencing

**Why Not Chosen**: Single-file approach doesn't scale and mixes different content types.

### Alternative 4: Wiki-Style Documentation

**Description**: Use GitHub wiki or similar tool with free-form organization.

**Pros**:

- Easy to add pages
- Flexible organization
- Search functionality
- Low barrier to contribute

**Cons**:

- No enforced structure
- Becomes disorganized over time
- Hard to review changes
- Separate from code repository
- No version control integration

**Why Not Chosen**: Lack of structure leads to documentation chaos and poor discoverability.

---

## Implementation Details

### Migration Process

1. **Audit existing documentation** - Catalog all current docs
2. **Categorize by intent** - Determine Diataxis category for each
3. **Create index pages** - Build navigation for each category
4. **Move and split files** - Reorganize content into structure
5. **Update cross-references** - Fix all internal links
6. **Add category descriptions** - Help users understand organization

### Index Pages

Each category has an index explaining its purpose:

```markdown
# Tutorials

**Learning-oriented**: Step-by-step guides to help you get started.

## Available Tutorials
- [Tutorial 1](file1.md) - Brief description
- [Tutorial 2](file2.md) - Brief description

**Not finding what you need?**
- For specific tasks: [How-to Guides](../how-to-guides/)
- For understanding: [Explanation](../explanation/)
- For technical details: [Reference](../reference/)
```

### Cross-References

Link between categories to guide users:

```markdown
<!-- In tutorial -->
For more details, see [Architecture Explanation](../explanation/architecture.md)

<!-- In how-to guide -->
Prerequisites: Complete the [Quick Start Tutorial](../tutorials/quickstart.md)

<!-- In explanation -->
To get started, see [Quick Start Tutorial](../tutorials/quickstart.md)
For commands, see [CLI Reference](../reference/cli.md)
```

### Content Guidelines

**Tutorials**:

- Use "you" voice
- Start with prerequisites
- Include expected outcomes
- Provide complete working examples

**How-To Guides**:

- Focus on one task
- Assume basic familiarity
- Provide step-by-step instructions
- Include troubleshooting tips

**Explanation**:

- Discuss concepts, not procedures
- Provide context and reasoning
- Explain design decisions
- Compare alternative approaches

**Reference**:

- Be precise and complete
- Use consistent formatting
- Organize for lookup, not reading
- Include all details

---

## References

- [Tutorials Index](../../tutorials/index.md)
- [How-To Guides Index](../../how-to-guides/index.md)
- [Explanation Index](../../explanation/index.md)
- [Reference Index](../../reference/index.md)

---

## Related Decisions

- [DR-001: Mono-Repository Layout](dr001.md) - Documentation organized within mono-repository
