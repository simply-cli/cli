# DR-004: Adopt Diataxis Framework for Documentation Organization

## Status

- [x] Accepted
- [ ] Proposed
- [ ] Rejected
- [ ] Deprecated
- [ ] Superseded

**Date**: 2025-11-03

---

## Context

Platform has diverse documentation needs:

1. Learning materials for new users
2. Task instructions for specific goals
3. Conceptual explanations for understanding
4. Technical reference for details

Traditional approaches (flat structure, by-component, README-heavy) don't serve different user intents:

- "I want to learn" (getting started)
- "I need to accomplish X" (solving problem)
- "Why was it built this way?" (understanding)
- "What's the syntax?" (looking up details)

**Problem**: How to organize documentation to serve different user needs while maintaining consistency and discoverability?

---

## Decision

Adopt **Diataxis framework** organizing documentation into four categories:

### 1. Tutorials (Learning-Oriented)

**Location**: `docs/tutorials/`

**Purpose**: Step-by-step learning by doing

**Characteristics**: Little prior knowledge assumed, focused on learning, quick setup

### 2. How-To Guides (Problem-Oriented)

**Location**: `docs/how-to-guides/`

**Purpose**: Solve specific problems

**Characteristics**: Single task focus, assumes basic familiarity, actionable steps

### 3. Explanation (Understanding-Oriented)

**Location**: `docs/explanation/`

**Purpose**: Clarify concepts and design

**Characteristics**: Discusses ideas, provides context, explains decisions

### 4. Reference (Information-Oriented)

**Location**: `docs/reference/`

**Purpose**: Technical descriptions for lookup

**Characteristics**: Precise, comprehensive, organized for quick lookup

**Examples**: `specifications/`, `decision-records/`

### Structure

```text
docs/
├── tutorials/           # Learning-oriented
├── how-to-guides/       # Task-oriented
├── explanation/         # Understanding-oriented
├── reference/           # Information-oriented
└── templates/           # Not part of Diataxis
```

---

## Consequences

### Positive

- **Clear intent mapping**: Users know where to look based on need
- **No duplication**: Each piece has one natural home
- **Better quality**: Each category has specific tone/style
- **Discoverability**: Predictable structure, index pages, cross-references
- **Scalable**: Easy to add documentation, clear placement
- **Industry standard**: Well-established, good onboarding

### Negative

- **Learning curve**: Contributors must understand four categories
- **Navigation**: Users must navigate structure, requires good index pages
- **Migration effort**: Reorganize existing docs, update links

---

## Alternatives Considered

### 1. Flat Documentation Structure

All docs in `docs/` with descriptive filenames.

**Why Not Chosen**: Hard to navigate with many files, no learning path guidance, scales poorly.

### 2. Component-Based Documentation

Organize by module (cli/, vscode/, mcp/).

**Why Not Chosen**: Duplicates common patterns, no guidance for different user intents, mixes tutorials with reference.

### 3. README-Heavy Documentation

Most documentation in README files throughout codebase.

**Why Not Chosen**: READMEs become very long, hard to maintain consistency, poor cross-referencing.

### 4. Wiki-Style Documentation

GitHub wiki or similar with free-form organization.

**Why Not Chosen**: No enforced structure, becomes disorganized, hard to review changes, separate from code repository.

---

## Implementation

### Index Pages

Each category has index explaining purpose and listing available content.

### Cross-References

Link between categories to guide users:

```markdown
<!-- In tutorial -->
For details: [Architecture Explanation](../explanation/architecture.md)

<!-- In how-to -->
Prerequisites: [Quick Start](../tutorials/quickstart.md)
```

### Content Guidelines

- **Tutorials**: "you" voice, prerequisites, expected outcomes, complete examples
- **How-To**: One task, assumes familiarity, step-by-step, troubleshooting
- **Explanation**: Concepts not procedures, context, reasoning, comparisons
- **Reference**: Precise, consistent formatting, organized for lookup, all details

---

## Related Decisions

- [DR-001: Mono-Repository Layout](dr001.md)
